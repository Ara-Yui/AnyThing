var ye=Object.defineProperty;var Te=(n,e,t)=>e in n?ye(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var m=(n,e,t)=>(Te(n,typeof e!="symbol"?e+"":e,t),t),be=(n,e,t)=>{if(!e.has(n))throw TypeError("Cannot "+t)};var oe=(n,e,t)=>{if(e.has(n))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(n):e.set(n,t)};var U=(n,e,t)=>(be(n,e,"access private method"),t);import{j as F,k as ne,l as Le,p as ke,m as Re,E as w,d as de,q as Me,t as E,v as pe,r as K,o as Q,c as $e,a as P,b as X,x as S,y as q,z as De,A as Ae,B as re,C as ze,D as V,e as Oe,F as Pe,G as Ie,T as Ee,i as Se,n as Be,H as ae}from"./vendor-a32ff1ab.js";import{_ as Fe}from"./plugin-vue_export-helper-c27b6911.js";const He=F("clickPositionStore",{persist:!0,state:()=>({clickedPosition:null}),actions:{setClickedPosition(n){this.clickedPosition=n}}}),Ne=F("graphStore",{state:()=>({recordsCenter:{}}),actions:{setRecord(n,e){console.log("setRecord",n,e),this.recordsCenter[n]=e,ne(()=>{console.log("this.recordsCenter",this.recordsCenter)})},getRecord(n){return this.recordsCenter[n]},deleteRecord(n){delete this.recordsCenter[n]},resetRecord(){this.recordsCenter={}}}});function he(){return{graphStore:Ne(),clickPositionStore:He()}}const We=F("graphConfig",{persist:!0,state:()=>({devicePixelRatio:window.devicePixelRatio,expectWidth:1920,expectHeight:1080})});var Z=(n=>(n.DARK="dark",n.LIGHT="light",n))(Z||{});const Ve=F("appConfig",{persist:!0,state:()=>({themeType:Z.DARK,themeOverrides:{},staticUrl:"xx",maxFileSize:1024*1024*10,max:999999999999999,min:-999999999999999,maxLength:16,minLength:0}),getters:{theme(){return this.themeType===Z.DARK?Le:void 0}},actions:{setThemeType(n){this.themeType=n}}});var fe=(n=>(n[n.TASK=32]="TASK",n[n.NORMAL=72]="NORMAL",n[n.BIG=114]="BIG",n[n.SMALL=58]="SMALL",n))(fe||{});const Xe="modulepreload",je=function(n,e){return new URL(n,e).href},le={},$=function(e,t,s){if(!t||t.length===0)return e();const i=document.getElementsByTagName("link");return Promise.all(t.map(a=>{if(a=je(a,s),a in le)return;le[a]=!0;const o=a.endsWith(".css"),r=o?'[rel="stylesheet"]':"";if(!!s)for(let l=i.length-1;l>=0;l--){const d=i[l];if(d.href===a&&(!o||d.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${a}"]${r}`))return;const u=document.createElement("link");if(u.rel=o?"stylesheet":Xe,o||(u.as="script",u.crossOrigin=""),u.href=a,document.head.appendChild(u),o)return new Promise((l,d)=>{u.addEventListener("load",l),u.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${a}`)))})})).then(()=>e())},ge=Symbol("customFieldName");function Tt(n){return function(e,t){Reflect.defineMetadata(ge,n,e,t)}}function se(n,e){let t=Reflect.getOwnMetadata(ge,n,e);if(t)return t;const s=Object.getPrototypeOf(n);return s.constructor.name===H.name?e:(t=se(s,e),t)}var xe=(n=>(n.TEXT="text",n.TEXTAREA="textarea",n.RICHTEXT="richText",n.DATE="date",n.RADIO="radio",n.CHECKBOX="checkbox",n.SELECT="select",n.SWITCH="switch",n.SLIDER="slider",n.IMAGE="image",n.FILE="file",n.COLOR="color",n))(xe||{});class Ye{constructor(){m(this,"key");m(this,"label")}}var ve=(n=>(n.DATE="date",n.DATERANGE="daterange",n.DATETIME="datetime",n.DATETIMERANGE="datetimerange",n.YEAR="year",n.MONTH="month",n.MONTHRANGE="monthrange",n))(ve||{});class Ce extends Ye{constructor(){super(...arguments);m(this,"formType",xe.TEXT);m(this,"dateType",ve.DATE);m(this,"maxLength",16);m(this,"minLength",0);m(this,"required",!1);m(this,"placeholder","");m(this,"disabled",!1);m(this,"clearable",!0);m(this,"hidden",!1);m(this,"defaultValue","");m(this,"trim",!0);m(this,"emumRecord",[]);m(this,"checkedValue",!0);m(this,"unCheckedValue",!1)}}const _e=Symbol("customFormFieldConfigName"),j=Symbol("customFormFieldConfigListName");function bt(n){return function(e,t){n||(n=new Ce);const s=Reflect.getOwnMetadata(j,e)||[];s.push(t),Reflect.defineMetadata(_e,n,e,t),Reflect.defineMetadata(j,s,e)}}function Y(n,e){let t=Reflect.getOwnMetadata(_e,n,e);if(!t){const i=Object.getPrototypeOf(n);if(i.constructor.name===H.name)return null;t=Y(i,e)}if(!t)return null;t.label||(t.label=se(n,e));const s=new Ce;return t=Object.assign(s,t),t}function ce(n){const e=Reflect.getOwnMetadata(j,n)||[],t=[];for(const s of e){const i=Y(n,s);i&&t.push(i)}return t}function ee(n){const e=Reflect.getOwnMetadata(j,n)||[],t=Object.getPrototypeOf(n);return t.constructor.name===H.name?e:ee(t).concat(e)}class Ge{static parse(e,t,...s){return ke(t,e,{excludeExtraneousValues:!0,enableImplicitConversion:!0,exposeDefaultValues:!0,exposeUnsetFields:!0,enableCircularCheck:!0,targetMaps:s})}static parseArray(e,t,...s){return this.parse(e,t,s)}static copy(e,t){return this.parse(e.toAliasObject(),t)}}class H{static newInstance(){return new this}static getCustomFieldName(e){return se(this.newInstance(),e)}static getCustomFormFieldConfig(e){return Y(this.newInstance(),e)}static getCustomFormFieldConfigList(){return ce(this.newInstance())}static getgetFormFieldList(){return ee(this.newInstance())}getCustomFormFieldConfig(e){return Y(this,e)}getCustomFormConfigList(){return ce(this)}getCustomFormList(){return ee(this)}getCustomFieldName(e){return this.getCustomFieldName(e)}toAliasObject(){return Re(this)}toAliasString(){return JSON.stringify(this.toAliasObject())}toNormalString(){return JSON.stringify(this)}assign(e){return Object.assign(this,e)}copy(){return Ge.copy(this,this.constructor)}expose(...e){const t=Object.keys(this);for(const s of t)e.includes(s)||(this[s]=void 0);return this}exclude(...e){const t=Object.keys(this);for(const s of t)e.includes(s)&&(this[s]=void 0);return this}}var Ue=Object.defineProperty,Ke=Object.getOwnPropertyDescriptor,N=(n,e,t,s)=>{for(var i=s>1?void 0:s?Ke(e,t):e,a=n.length-1,o;a>=0;a--)(o=n[a])&&(i=(s?o(e,t,i):o(i))||i);return s&&i&&Ue(e,t,i),i};class C extends H{constructor(){super(...arguments);m(this,"name");m(this,"icon");m(this,"description");m(this,"handler");m(this,"dom")}setDom(t){this.dom=t}setHandler(t){this.handler=t}}N([w()],C.prototype,"name",2);N([w()],C.prototype,"icon",2);N([w()],C.prototype,"description",2);N([w()],C.prototype,"handler",2);N([w()],C.prototype,"dom",2);const qe=de({__name:"Dialog",props:{onConfirm:{type:Function,default:()=>()=>{console.log("onConfirm")}},param:{type:Object,default:()=>({})}},emits:["on-after-leave"],setup(n,{emit:e}){const t=Me(()=>R().AppConfig.theme),s=E(!1);function i(){e("on-after-leave")}function a(){const o=he().clickPositionStore.clickedPosition;if(!o)return;const r=document.createElement("div");r.style.cssText=`
    position: fixed;
    top: ${o.y}px;
    left: ${o.x}px;
    width: 1px;
    height: 1px;
    z-index: 9999;
    opacity: 0;
    pointer-events: none;
  `,document.body.appendChild(r),r.click(),r.remove()}return pe(()=>{a(),s.value=!0}),(o,r)=>{const c=K("n-card"),u=K("n-modal"),l=K("n-config-provider");return Q(),$e(l,{theme:t.value},{default:P(()=>[X(u,{show:s.value,"onUpdate:show":r[0]||(r[0]=d=>s.value=d),"on-after-leave":i},{default:P(()=>[X(c,{style:{width:"600px"},title:"模态框",bordered:!1,size:"huge",role:"dialog","aria-modal":"true"},{"header-extra":P(()=>[S(o.$slots,"header-extra",{},()=>[q(" 噢！ ")])]),footer:P(()=>[S(o.$slots,"footer",{},()=>[q(" 尾部 ")])]),default:P(()=>[S(o.$slots,"default",{},()=>[q(" 内容 ")])]),_:3})]),_:3},8,["show"])]),_:3},8,["theme"])}}});class D{static asyncComponent(e,t=20){return De({loader:e,delay:t})}static loadImage(e){return new Promise((t,s)=>{const i=new Image;i.src=e,i.onload=()=>{t(e)},i.onerror=()=>{s()}})}}class Je{constructor(e){m(this,"element");m(this,"initStatus",{mouseStartX:0,mouseStartY:0,elementWidth:0,elementHeight:0,elementLeft:0,elementTop:0,elementRight:0,elementBottom:0,transtion:""});m(this,"config",{minWidth:400,minHeight:270,minDistanceToClient:10});m(this,"currentController",null);m(this,"startResize",e=>{e.preventDefault(),this.currentController=e.target;const{clientX:t,clientY:s}=e,{offsetWidth:i,offsetHeight:a}=this.element,{left:o,top:r}=this.element.getBoundingClientRect(),c=document.documentElement.clientWidth-o-i,u=document.documentElement.clientHeight-r-a,l=this.element.style.transition;Object.assign(this.initStatus,{mouseStartX:t,mouseStartY:s,elementWidth:i,elementHeight:a,elementLeft:o,elementTop:r,elementRight:c,elementBottom:u,transition:l}),this.element.style.transition="unset",document.addEventListener("mousemove",this.mousemove),document.addEventListener("mouseup",this.mouseup)});m(this,"mousemove",e=>{var h;const{clientX:t,clientY:s}=e,{mouseStartX:i,mouseStartY:a,elementWidth:o,elementHeight:r,elementTop:c,elementLeft:u,elementRight:l,elementBottom:d}=this.initStatus,f=t-i,g=s-a,T=document.documentElement.clientWidth,b=document.documentElement.clientHeight,M=(p,v)=>{const k=this.config.minWidth,y=T-v-this.config.minDistanceToClient;return Math.min(Math.max(p,k),y)},L=(p,v)=>{const k=this.config.minHeight,y=b-v-this.config.minDistanceToClient;return Math.min(Math.max(p,k),y)},x=(p,v)=>Math.max(Math.min(p,v),this.config.minDistanceToClient);let _="";switch((h=this.currentController)==null?void 0:h.style.cursor){case"w-resize":_=`
        width: ${M(o-f,l)}px;
        height: ${r}px;
        top: ${c}px;
        left: ${x(u+f,T-this.config.minWidth-l)}px;
        right:${l}px;
        bottom:${d}px;
        transition: unset;
      `;break;case"e-resize":_=`
        width: ${M(o+f,u)}px;
        height: ${r}px;
        top: ${c}px;
        left: ${u}px;
        right:${x(l-f,T-this.config.minWidth-u)}px;
        bottom:${d}px;
        transition: unset;
      `;break;case"n-resize":_=`
        width: ${o}px;
        height: ${L(r-g,d)}px;
        top: ${x(c+g,b-this.config.minHeight-d)}px;
        left: ${u}px;
        right:${l}px;
        bottom:${d}px;
        transition: unset;
      `;break;case"s-resize":_=`
        width: ${o}px;
        height: ${L(r+g,c)}px;
        top: ${c}px;
        left: ${u}px;
        right:${l}px;
        bottom:${x(d-g,b-this.config.minHeight-c)}px;
        transition: unset;
      `;break;case"nw-resize":_=`
        width: ${M(o-f,l)}px;
        height: ${L(r-g,d)}px;
        top: ${x(c+g,b-this.config.minHeight-d)}px;
        left: ${x(u+f,T-this.config.minWidth-l)}px;
        right:${l}px;
        bottom:${d}px;
        transition: unset;
      `;break;case"ne-resize":_=`
        width: ${M(o+f,u)}px;
        height: ${L(r-g,d)}px;
        top: ${x(c+g,b-this.config.minHeight-d)}px;
        left: ${u}px;
        right:${x(l-f,T-this.config.minWidth-u)}px;
        bottom:${d}px;
        transition: unset;
      `;break;case"sw-resize":_=`
        width: ${M(o-f,l)}px;
        height: ${L(r+g,c)}px;
        top: ${c}px;
        left: ${x(u+f,T-this.config.minWidth-l)}px;
        right:${l}px;
        bottom:${x(d-g,b-this.config.minHeight-c)}px;
        transition: unset;
      `;break;case"se-resize":_=`
        width: ${M(o+f,u)}px;
        height: ${L(r+g,c)}px;
        top: ${c}px;
        left: ${u}px;
        right:${x(l-f,T-this.config.minWidth-u)}px;
        bottom:${x(d-g,b-this.config.minHeight-c)}px;
        transition: unset;
      `;break}this.element.style.cssText=_});m(this,"mouseup",()=>{this.element.style.transition=this.initStatus.transtion,document.removeEventListener("mousemove",this.mousemove),document.removeEventListener("mouseup",this.mouseup)});this.element=e;const t=[{cssText:"position: absolute; width: 10px; height: 100%; left: -5px; top: 0; cursor: w-resize;",listener:this.startResize},{cssText:"position: absolute; width: 10px; height: 100%; right: -5px; top: 0; cursor: e-resize;",listener:this.startResize},{cssText:"position: absolute; width: 100%; height: 10px; left: 0; top: -5px; cursor: n-resize;",listener:this.startResize},{cssText:"position: absolute; width: 100%; height: 10px; left: 0; bottom: -5px; cursor: s-resize;",listener:this.startResize},{cssText:"position: absolute; width: 10px; height: 10px; left: -5px; top: -5px; cursor: nw-resize;",listener:this.startResize},{cssText:"position: absolute; width: 10px; height: 10px; right: -5px; top: -5px; cursor: ne-resize;",listener:this.startResize},{cssText:"position: absolute; width: 10px; height: 10px; left: -5px; bottom: -5px; cursor: sw-resize;",listener:this.startResize},{cssText:"position: absolute; width: 10px; height: 10px; right: -5px; bottom: -5px; cursor: se-resize;",listener:this.startResize}];for(const s of t)this.createController(s.cssText,s.listener)}createController(e,t){const s=document.createElement("div");s.style.cssText=e,s.addEventListener("mousedown",t),this.element.appendChild(s)}}var Qe=Object.defineProperty,Ze=Object.getOwnPropertyDescriptor,z=(n,e,t,s)=>{for(var i=s>1?void 0:s?Ze(e,t):e,a=n.length-1,o;a>=0;a--)(o=n[a])&&(i=(s?o(e,t,i):o(i))||i);return s&&i&&Qe(e,t,i),i};class A extends H{constructor(t){super();m(this,"id");m(this,"app");m(this,"modelDom");m(this,"taskBarDom");m(this,"taskViewDom");m(this,"isActive",!0);m(this,"isMinimize",!1);this.app=t,this.isActive=!0,this.isMinimize=!1}setActive(t){this.isActive=t}setMinimize(t){this.isMinimize=t}setModelDom(t){this.modelDom=t}setTaskBarDom(t){this.taskBarDom=t}setTaskViewDom(t){this.taskViewDom=t}}z([w()],A.prototype,"id",2);z([w()],A.prototype,"app",2);z([w()],A.prototype,"modelDom",2);z([w()],A.prototype,"taskBarDom",2);z([w()],A.prototype,"taskViewDom",2);z([w()],A.prototype,"isActive",2);z([w()],A.prototype,"isMinimize",2);class G{static setCurrentApp(e){var s,i;const{currentApp:t}=R().DesktopConfig;t&&((s=t.dom)==null||s.classList.remove("active")),(i=e.dom)==null||i.classList.add("active"),R().DesktopConfig.currentApp=e}static addTask(e){this.setCurrentApp(e);const{appTaskList:t}=R().DesktopConfig,s=new A(e),i=this.getTaskDomByApp(e);return i&&s.setTaskBarDom(i),s.id=Date.now(),s.setActive(!0),t.push(s),s}static removeTask(e){const{appTaskList:t}=R().DesktopConfig,s=t.findIndex(i=>i.id===e.id);t.splice(s,1)}static getTaskDomByApp(e){const{appTaskList:t}=R().DesktopConfig,s=t.find(i=>i.app.name===e.name);return(s==null?void 0:s.taskBarDom)||null}static setHighestModel(e){const{highestIndex:t,refreshHighestIndex:s}=R().DesktopConfig;e.style.zIndex=t.toString(),s()}static setTaskBarDomByApp(e,t){const{appTaskList:s}=R().DesktopConfig;s.filter(i=>i.app.name===t.name).forEach(i=>{i.setTaskBarDom(e)})}static refreshTaskView(e,t){const s=e.modelDom;if(s&&!e.isMinimize){const{width:i,height:a}=s.getBoundingClientRect(),o=s.cloneNode(!0),r=196/i,c=100/a,u=`
        position: relative;
        overflow: hidden;
        width: ${i}px;
        height: ${a}px;
        left: unset;
        top: unset;
        right: unset;
        bottom: unset; 
        pointer-events: none;
        transform: scale(${r}, ${c});
        transform-origin: left top;
        opacity: 1 !important;
        transition:unset;
      `;for(o.style.cssText=u;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(o)}}}const et={class:"title"},tt={class:"main"},nt={class:"footer"},st=de({__name:"DialogMac",props:{title:{type:String,default:void 0},onModelMounted:{type:Function,default:void 0},beforClose:{type:Function,default:void 0},beforMinimize:{type:Function,default:void 0}},emits:["on-after-leave"],setup(n,{emit:e}){const t=n,s=D.asyncComponent(()=>$(()=>import("./ControllerMac-074bc865.js"),["./ControllerMac-074bc865.js","./plugin-vue_export-helper-c27b6911.js","./vendor-a32ff1ab.js","./ControllerMac-183203a7.css"],import.meta.url)),{clickedPosition:i}=he().clickPositionStore,{highestIndex:a}=Ae(R().DesktopConfig),o=E(),r=E(),c=E(!1),u=E(!1),l={width:0,height:0,offsetX:0,offsetY:0,transtion:""},d={x:0,y:0};function f(){G.setHighestModel(r.value)}async function g(){if(!(t.beforClose&&!await t.beforClose())){if(c.value){const h=`
    width: 100vw ;
    height: 100vh ;
    left: 0 ;
    top: 0 ;
    bottom: 0 ;
    border-radius: 0 ;
    z-index: 9999 !important;
  `;r.value.style.cssText=h,r.value.classList.remove("any_model_full_screen")}u.value=!0,setTimeout(()=>{e("on-after-leave")},1e3)}}async function T(){t.beforMinimize&&t.beforMinimize(),r.value.classList.add("any_model_minimize")}function b(){var h,p;i&&((h=o.value)==null||h.style.setProperty("--startX",`${i.x}px`),(p=o.value)==null||p.style.setProperty("--startY",`${i.y}px`)),ne(async()=>{var y,O,W,ie;const k=.1388888888888889;(y=o.value)==null||y.style.setProperty("--scaleX",`${.1125}`),(O=o.value)==null||O.style.setProperty("--scaleY",`${k}`),(W=o.value)==null||W.style.setProperty("--minimizeToX",`${d.x}px`),(ie=o.value)==null||ie.style.setProperty("--minimizeToY",`${d.y}px`)})}function M(){c.value=!c.value,c.value?r.value.classList.add("any_model_full_screen"):r.value.classList.remove("any_model_full_screen")}function L(h){let{clientX:p,clientY:v}=h;p<0&&(p=0),v<0&&(v=0),p>window.innerWidth&&(p=window.innerWidth),v>window.innerHeight&&(v=window.innerHeight);const k=p-l.offsetX,y=v-l.offsetY,O=`
    width: ${l.width}px;
    height: ${l.height}px;
    top: ${y}px;
    left: ${k}px;
    transition: unset;
    z-index:${a.value};
  `;r.value.style.cssText=O}function x(h){if(c.value)return;const{width:p,height:v}=r.value.getBoundingClientRect(),{left:k,top:y}=r.value.getBoundingClientRect(),{clientX:O,clientY:W}=h;l.transtion=r.value.style.transition,l.width=p,l.height=v,l.offsetX=O-k,l.offsetY=W-y,document.addEventListener("mousemove",L),document.addEventListener("mouseup",_)}function _(){r.value.style.transition=l.transtion,document.removeEventListener("mousemove",L),document.removeEventListener("mouseup",_)}return pe(async()=>{if(t.onModelMounted){const{minimizeToX:h,minimizeToY:p}=await t.onModelMounted(r.value);d.x=h,d.y=p}b(),G.setHighestModel(r.value),new Je(r.value)}),(h,p)=>(Q(),re("div",{ref_key:"PositionProviderRef",ref:o,class:"position_provider"},[X(Ee,{name:"any_model",appear:""},{default:P(()=>[u.value?Ie("",!0):(Q(),re("div",{key:0,ref_key:"AnyModelRef",ref:r,class:ze(["any_model_mac"]),onMousedown:f},[V("div",{class:"header",onMousedown:x},[X(Oe(s),{"on-close":g,"on-minimize":T,"on-maximize":M}),V("div",et,Pe(n.title||"弹窗标题"),1)],32),V("div",tt,[S(h.$slots,"default",{},void 0,!0)]),V("div",nt,[S(h.$slots,"footer",{},void 0,!0)])],544))]),_:3})],512))}}),it=Fe(st,[["__scopeId","data-v-7ada9be8"]]),ot={mounted(n,e,t){function s(i,a=16){let o=null;return function(){o&&clearTimeout(o);const r=this,c=arguments;o=setTimeout(function(){i.apply(r,c)},a)}}n._resizer=new window.ResizeObserver(s(e.value,Number(e.arg)||16)),n._resizer.observe(n)},unmounted(n){n._resizer.disconnect()}},rt={mounted(n,e,t){n.style.cssText="opacity:0 ;transition:all .5s";function s(i=16){let a=null;return function(){a&&clearTimeout(a),a=setTimeout(function(){const{width:o,height:r}=n.parentElement.getBoundingClientRect();console.log(o.toString(),r.toString());const c=`
            width:${o}px;
            height:${r}px;
            opacity:1;
            transition:opacity .5s;
          `;n.style.cssText=c},i)}}n._resizer=new window.ResizeObserver(s(Number(e.arg)||16)),n._resizer.observe(n.parentElement)},unmounted(n){n._resizer.disconnect()}},at={install(n){n.directive("resize",ot),n.directive("lazyResize",rt)}};var B,te;class we{static showModel(e,t,s){return U(this,B,te).call(this,e,{param:t},s)}static showMacModel(e,t,s){return U(this,B,te).call(this,e,{param:t},{dialogComponent:it,...s})}}B=new WeakSet,te=function(e,t,s){const i=document.createElement("div"),a=`any_dialog_${Math.random()}`;i.setAttribute("id",a);let o;function r(){o&&(o.unmount(),document.body.removeChild(i),o=void 0)}return new Promise((c,u)=>{if(o)return;const l={onConfirm:async f=>{r(),c(f)},...t};o=Se({render:()=>ae((s==null?void 0:s.dialogComponent)||qe,{"onOn-after-leave":()=>{r()},beforClose:s==null?void 0:s.beforClose,beforMinimize:s==null?void 0:s.beforMinimize,onModelMounted:s==null?void 0:s.onModelMounted,title:s==null?void 0:s.title},{default:()=>ae(e,l)})}).use(Be).use(at),document.body.appendChild(i),o==null||o.mount(i)})},oe(we,B);function lt(){const n=(i,a)=>new Promise(o=>{a.setModelDom(i),ne(()=>{const{left:r,top:c}=a.taskBarDom.getBoundingClientRect();o({minimizeToX:r,minimizeToY:c,targetDom:a.taskViewDom})})}),e=async i=>(G.removeTask(i),!0),t=async i=>{i.setMinimize(!0)};return{onModelMounted:n,beforClose:e,beforMinimize:t,handler:(i,a,o)=>(r,c)=>{if(r instanceof C){const u=G.addTask(r);c&&c(),we.showMacModel(i,a,{onModelMounted:l=>n(l,u),beforClose:()=>e(u),beforMinimize:()=>t(u),...o||{}})}}}}const J=""+new URL("anyIcon-f402b05f.svg",import.meta.url).href,ct=""+new URL("wwyIcon-d488b500.svg",import.meta.url).href,ut=""+new URL("setting-f226ad93.svg",import.meta.url).href,mt=""+new URL("bing-d2aef8c4.svg",import.meta.url).href,dt=D.asyncComponent(()=>$(()=>import("./index-b399511d.js").then(n=>n.i),["./index-b399511d.js","./plugin-vue_export-helper-c27b6911.js","./vendor-a32ff1ab.js","./Button-949af70b.js","./index-134847a0.css"],import.meta.url));D.asyncComponent(()=>$(()=>import("./index-a51baa83.js"),["./index-a51baa83.js","./vendor-a32ff1ab.js","./plugin-vue_export-helper-c27b6911.js","./index-b27eb432.css"],import.meta.url));const pt=D.asyncComponent(()=>$(()=>import("./index-2bf99ce4.js").then(n=>n.i),["./index-2bf99ce4.js","./vendor-a32ff1ab.js","./Button-949af70b.js","./plugin-vue_export-helper-c27b6911.js","./index-5702f50a.css"],import.meta.url)),ht=D.asyncComponent(()=>$(()=>import("./index-ec1d0408.js"),["./index-ec1d0408.js","./vendor-a32ff1ab.js","./plugin-vue_export-helper-c27b6911.js","./index-95af501a.css"],import.meta.url)),ft=D.asyncComponent(()=>$(()=>import("./CloudMusic-6a1104f9.js"),["./CloudMusic-6a1104f9.js","./plugin-vue_export-helper-c27b6911.js","./vendor-a32ff1ab.js","./CloudMusic-5478b592.css"],import.meta.url)),gt=D.asyncComponent(()=>$(()=>import("./index-f3b7f553.js"),["./index-f3b7f553.js","./vendor-a32ff1ab.js"],import.meta.url)),xt=D.asyncComponent(()=>$(()=>import("./Bing-46d424ad.js"),["./Bing-46d424ad.js","./plugin-vue_export-helper-c27b6911.js","./vendor-a32ff1ab.js","./Bing-c18f2459.css"],import.meta.url)),{handler:I}=lt(),ue=[new C().assign({name:"图形引擎",icon:J,handler:I(pt,{},{title:"图形引擎"})}),new C().assign({name:"代码编辑器",icon:J,handler:I(dt,{},{title:"代码编辑器"})}),new C().assign({name:"GIS引擎",icon:J,handler:I(ht,{},{title:"GIS引擎"})}),new C().assign({name:"网易云音乐",icon:ct,handler:I(ft,{},{title:"网易云音乐"})})],me=[new C().assign({name:"系统设置",icon:ut,handler:I(gt,{},{title:"系统设置"})}),new C().assign({name:"必应搜索",icon:mt,handler:I(xt,{},{title:"必应搜索"})})],vt=""+new URL("MacBg-2k-d3e87622.jpg",import.meta.url).href,Ct=F("desktopConfig",{persist:[{key:"desktopConfig",storage:localStorage,paths:["appIconSize","defaultBackgroundImg","defaultTaskAppList","appList"]}],state:()=>({appIconSize:fe.NORMAL,defaultBackgroundImg:vt,currentBackgroundImg:"",defaultTaskAppList:me,appTaskList:[],appList:ue,currentApp:null,highestIndex:99}),getters:{appListWithHandler:n=>{var e;return(e=n.appList)==null?void 0:e.map(t=>{var i;const s=(i=ue.find(a=>a.name===t.name))==null?void 0:i.handler;return s&&(t.handler=s),new C().assign(t)})},defaultTaskAppListWithHandler:n=>{var e;return(e=n.defaultTaskAppList)==null?void 0:e.map(t=>{var i;const s=(i=me.find(a=>a.name===t.name))==null?void 0:i.handler;return s&&(t.handler=s),new C().assign(t)})},appListInTaskList:n=>{var e;return(e=n.appList)==null?void 0:e.filter(t=>n.appTaskList.some(s=>s.app.name===t.name))}},actions:{setDesktopBackgroudImg(n,e){e.value=!0;const t=new Image;t.src=n,t.onload=()=>{e.value=!1,this.currentBackgroundImg=n},t.onerror=()=>{e.value=!1}},refreshHighestIndex(){this.highestIndex+=1}}}),R=()=>({GraphConfig:We(),AppConfig:Ve(),DesktopConfig:Ct()});export{D as A,G as D,Z as E,Tt as F,$ as _,he as a,bt as b,xe as c,at as d,H as e,Ge as f,we as g,R as u};
