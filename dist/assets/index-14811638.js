var U=Object.defineProperty;var B=(e,o,t)=>o in e?U(e,o,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[o]=t;var h=(e,o,t)=>(B(e,typeof o!="symbol"?o+"":o,t),t);import{_ as H,a as L}from"./Button-ff051bed.js";import{F as v,e as j,f as C,g as O}from"./index-538f2ed9.js";import{A as P,_ as R}from"./index-8652bc9b.js";import{A as z,_ as q,a as G,b as I,c as J}from"./Number-65078e0f.js";import{d as x,o as D,B as K,D as y,E as g,w as S,q as Q,t as Y,r as p,c as A,a as d,b as i,e as f,y as M,F as W}from"./vendor-55e0ca6f.js";import"./plugin-vue_export-helper-c27b6911.js";const X={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},Z=y("path",{d:"M320 367.79h76c55 0 100-29.21 100-83.6s-53-81.47-96-83.6c-8.89-85.06-71-136.8-144-136.8c-69 0-113.44 45.79-128 91.2c-60 5.7-112 43.88-112 106.4s54 106.4 120 106.4h56",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1),T=y("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M320 255.79l-64-64l-64 64"},null,-1),E=y("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M256 448.21V207.79"},null,-1),ee=[Z,T,E],oe=x({name:"CloudUploadOutline",render:function(o,t){return D(),K("svg",X,ee)}});var V=(e=>(e.YYYY_MM_DD_HH_MM_SS="yyyy-MM-dd hh:mm:ss",e.YYYY_MM_DD_HH_MM="yyyy-MM-dd hh:mm",e.YYYY_MM_DD="yyyy-MM-dd",e.YYYY_MM="yyyy-MM",e.YYYY="yyyy",e.YYYY_MM_DD_HH_MM_SS_CN="yyyy年MM月dd日 hh时mm分ss秒",e.YYYY_MM_DD_HH_MM_CN="yyyy年MM月dd日 hh时mm分",e.YYYY_MM_DD_CN="yyyy年MM月dd日",e.YYYY_MM_CN="yyyy年MM月",e.YYYY_CN="yyyy年",e.MM_DD_CN="MM月dd日",e.HH_MM_SS_CN="hh时mm分ss秒",e.HH_MM_CN="hh时mm分",e.YYYY_MM_DD_HH_MM_SS_SLASH="yyyy/MM/dd hh:mm:ss",e.YYYY_MM_DD_HH_MM_SLASH="yyyy/MM/dd hh:mm",e.YYYY_MM_DD_SLASH="yyyy/MM/dd",e.YYYY_MM_SLASH="yyyy/MM",e))(V||{});class te{static format(o,t=V.YYYY_MM_DD_HH_MM_SS){let a=t.toString();typeof o=="number"?o=new Date(o):typeof o=="string"&&(o=new Date(o.replace(/-/g,"/")));const n={"M+":o.getMonth()+1,"d+":o.getDate(),"h+":o.getHours(),"m+":o.getMinutes(),"s+":o.getSeconds()};/(y+)/.test(a)&&(a=a.replace("yyyy",o.getFullYear()+""));for(const s in n){const l=new RegExp(`(${s})`);l.test(a)&&(a=a.replace(l,s.length===1?n[s].toString():`00${n[s]}`.slice(n[s].toString().length)))}return a}static getTime(o){return typeof o=="number"?o:typeof o=="string"?new Date(o.replace(/-/g,"/")).getTime():o.getTime()}static getTimeText(o){const t=new Date().getTime(),a=this.getTime(o),n=t-a,s=n/(24*60*60*1e3),l=n/(60*60*1e3),_=n/(60*1e3),r=n/1e3;return s>365?`${Math.floor(s/365)}年前`:s>30?`${Math.floor(s/30)}月前`:s>7?`${Math.floor(s/7)}周前`:s>1?`${Math.floor(s)}天前`:l>1?`${Math.floor(l)}小时前`:_>1?`${Math.floor(_)}分钟前`:r>1?`${Math.floor(r)}秒前`:"刚刚"}}var ne=Object.defineProperty,le=Object.getOwnPropertyDescriptor,w=(e,o,t,a)=>{for(var n=a>1?void 0:a?le(o,t):o,s=e.length-1,l;s>=0;s--)(l=e[s])&&(n=(a?l(o,t,n):l(n))||n);return a&&n&&ne(o,t,n),n};class c extends j{constructor(){super(...arguments);h(this,"id");h(this,"name");h(this,"url");h(this,"status")}}w([v("文件id"),g()],c.prototype,"id",2);w([v("文件名称"),g()],c.prototype,"name",2);w([v("文件资源地址"),g()],c.prototype,"url",2);w([v("文件上传状态"),g()],c.prototype,"status",2);var $=(e=>(e.Image="image/*",e.Video="video/*",e.Audio="audio/*",e.Document="application/pdf,application/msword,application/vnd.ms-excel,application/vnd.ms-powerpoint,application/vnd.openxmlformats-officedocument.wordprocessingml.document,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet,application/vnd.openxmlformats-officedocument.presentationml.presentation",e.Spreadsheet="application/vnd.ms-excel,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",e.Presentation="application/vnd.ms-powerpoint,application/vnd.openxmlformats-officedocument.presentationml.presentation",e.Text="text/plain",e.Archive="application/zip,application/x-rar-compressed",e.Unknown="*/*",e))($||{});const se=y("br",null,null,-1),ae=x({__name:"Upload",props:{...z(),action:{type:String,default:"https://www.mocky.io/v2/5e4bafc63100007100d8b70f"},accept:{type:Array,default:()=>[$.Document]},max:{type:Number,default:1},payload:{type:Object,default:void 0},headers:{type:Object,default:void 0},onRemove:{type:Function,default:void 0}},emits:["update:modelValue"],setup(e,{emit:o}){const t=e;S(()=>t.modelValue,r=>{n.value=r??[]},{deep:!0});const a=Q(()=>t.accept.join(",")),n=Y([]);S(n,r=>{o("update:modelValue",r)},{deep:!0});function s(r){n.value=C.parseArray(r.fileList,c)}function l(r){var u;const m={file:C.parse(r.file,c),fileList:C.parseArray(r.fileList,c)};(u=t.onRemove)==null||u.call(t,m)}function _(){new P().info("是的，file-list 的值变了"),o("update:modelValue")}return(r,m)=>{const u=p("n-icon"),b=p("n-text"),k=p("n-upload-dragger"),F=p("n-upload");return D(),A(F,{"file-list":n.value,"onUpdate:fileList":[m[0]||(m[0]=N=>n.value=N),_],multiple:"","directory-dnd":"",max:t.max,data:t.payload,action:t.action,headers:t.headers,accept:a.value,disabled:t.disabled,onRemove:l,onChange:s},{default:d(()=>[i(k,null,{default:d(()=>[i(u,{size:"48",depth:3},{default:d(()=>[i(f(oe))]),_:1}),se,i(b,{style:{"font-size":"16px"}},{default:d(()=>[M(" 点击或者拖动文件到该区域来上传 ")]),_:1})]),_:1})]),_:1},8,["file-list","max","data","action","headers","accept","disabled"])}}}),ue=y("div",null,[y("h1",null,"这是一个Demo页面")],-1),fe=x({__name:"index",setup(e){const o=Y(!1),t=Y(""),a=Y(""),n=Y(0);return(s,l)=>{const _=p("n-card"),r=p("n-modal"),m=p("n-space");return D(),A(f(L),null,{default:d(()=>[ue,i(r,{show:o.value,"onUpdate:show":l[0]||(l[0]=u=>o.value=u)},{default:d(()=>[i(_,{style:{width:"600px"},title:"模态框",bordered:!1,size:"huge",role:"dialog","aria-modal":"true"},{"header-extra":d(()=>[M(" 噢！ ")]),footer:d(()=>[M(" 尾部 ")]),default:d(()=>[i(ae)]),_:1})]),_:1},8,["show"]),i(m,null,{default:d(()=>[i(f(H),{onClick:l[1]||(l[1]=u=>f(O).showModel(R))},{default:d(()=>[M("打开弹窗（api调用）")]),_:1}),i(f(H),{onClick:l[2]||(l[2]=u=>o.value=!o.value)},{default:d(()=>[M("打开弹窗（组件式）")]),_:1}),M(" "+W(f(te).format("Fri Sep 08 2023 10:20:13 GMT+0800 (中国标准时间)"))+" ",1),i(q,{modelValue:t.value,"onUpdate:modelValue":l[3]||(l[3]=u=>t.value=u)},null,8,["modelValue"]),i(G,{modelValue:t.value,"onUpdate:modelValue":l[4]||(l[4]=u=>t.value=u)},null,8,["modelValue"]),i(I,{modelValue:a.value,"onUpdate:modelValue":l[5]||(l[5]=u=>a.value=u)},null,8,["modelValue"]),i(J,{modelValue:n.value,"onUpdate:modelValue":l[6]||(l[6]=u=>n.value=u)},null,8,["modelValue"])]),_:1})]),_:1})}}});export{fe as default};
