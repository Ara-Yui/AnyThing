var I=Object.defineProperty;var q=(o,e,n)=>e in o?I(o,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):o[e]=n;var v=(o,e,n)=>(q(o,typeof e!="symbol"?e+"":e,n),n),G=(o,e,n)=>{if(!e.has(o))throw TypeError("Cannot "+n)};var k=(o,e,n)=>{if(e.has(o))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(o):e.set(o,n)};var V=(o,e,n)=>(G(o,e,"access private method"),n);import{_ as F,a as J}from"./Button-b92f1cbe.js";import{b as w,o as C,m as K,q as h,a7 as B,p as y,z as Q,r as p,c as b,e as d,g as c,ad as D,A as f,k as W,l as X,a3 as N,w as U,f as M,C as Z}from"./vendor-bf1965bc.js";import{a as E,u as T}from"./index-0e957f34.js";import{A as ee,_ as oe}from"./index-8498ec36.js";import{A as te,_ as ne,a as le,b as se,c as ae}from"./Number-3b9f87b8.js";import{F as x,b as A,A as re,c as H}from"./FieldName-0846f9cd.js";import"./plugin-vue_export-helper-c27b6911.js";const ue={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},ie=h("path",{d:"M320 367.79h76c55 0 100-29.21 100-83.6s-53-81.47-96-83.6c-8.89-85.06-71-136.8-144-136.8c-69 0-113.44 45.79-128 91.2c-60 5.7-112 43.88-112 106.4s54 106.4 120 106.4h56",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1),de=h("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M320 255.79l-64-64l-64 64"},null,-1),ce=h("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M256 448.21V207.79"},null,-1),pe=[ie,de,ce],me=w({name:"CloudUploadOutline",render:function(e,n){return C(),K("svg",ue,pe)}});var P=(o=>(o.YYYY_MM_DD_HH_MM_SS="yyyy-MM-dd hh:mm:ss",o.YYYY_MM_DD_HH_MM="yyyy-MM-dd hh:mm",o.YYYY_MM_DD="yyyy-MM-dd",o.YYYY_MM="yyyy-MM",o.YYYY="yyyy",o.YYYY_MM_DD_HH_MM_SS_CN="yyyy年MM月dd日 hh时mm分ss秒",o.YYYY_MM_DD_HH_MM_CN="yyyy年MM月dd日 hh时mm分",o.YYYY_MM_DD_CN="yyyy年MM月dd日",o.YYYY_MM_CN="yyyy年MM月",o.YYYY_CN="yyyy年",o.MM_DD_CN="MM月dd日",o.HH_MM_SS_CN="hh时mm分ss秒",o.HH_MM_CN="hh时mm分",o.YYYY_MM_DD_HH_MM_SS_SLASH="yyyy/MM/dd hh:mm:ss",o.YYYY_MM_DD_HH_MM_SLASH="yyyy/MM/dd hh:mm",o.YYYY_MM_DD_SLASH="yyyy/MM/dd",o.YYYY_MM_SLASH="yyyy/MM",o))(P||{});class fe{static format(e,n=P.YYYY_MM_DD_HH_MM_SS){let s=n.toString();typeof e=="number"?e=new Date(e):typeof e=="string"&&(e=new Date(e.replace(/-/g,"/")));const l={"M+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds()};/(y+)/.test(s)&&(s=s.replace("yyyy",e.getFullYear()+""));for(const a in l){const t=new RegExp(`(${a})`);t.test(s)&&(s=s.replace(t,a.length===1?l[a].toString():`00${l[a]}`.slice(l[a].toString().length)))}return s}static getTime(e){return typeof e=="number"?e:typeof e=="string"?new Date(e.replace(/-/g,"/")).getTime():e.getTime()}static getTimeText(e){const n=new Date().getTime(),s=this.getTime(e),l=n-s,a=l/(24*60*60*1e3),t=l/(60*60*1e3),r=l/(60*1e3),i=l/1e3;return a>365?`${Math.floor(a/365)}年前`:a>30?`${Math.floor(a/30)}月前`:a>7?`${Math.floor(a/7)}周前`:a>1?`${Math.floor(a)}天前`:t>1?`${Math.floor(t)}小时前`:r>1?`${Math.floor(r)}分钟前`:i>1?`${Math.floor(i)}秒前`:"刚刚"}}const _e=w({__name:"Dialog",props:{onConfirm:{type:Function,default:()=>()=>{console.log("onConfirm")}},param:{type:Object,default:()=>({})}},emits:["on-after-leave"],setup(o,{emit:e}){const n=B(()=>T().AppConfig.theme),s=y(!1);function l(){e("on-after-leave")}function a(){const t=E().clickPositionStore.clickedPosition;if(!t)return;const r=document.createElement("div");r.style.position="fixed",r.style.top=`${t.y}px`,r.style.left=`${t.x}px`,r.style.width="1px",r.style.height="1px",r.style.zIndex="9999",r.style.opacity="0",r.style.pointerEvents="none",document.body.appendChild(r),r.click(),r.remove()}return Q(()=>{a(),s.value=!0}),(t,r)=>{const i=p("n-card"),m=p("n-modal"),u=p("n-config-provider");return C(),b(u,{theme:n.value},{default:d(()=>[c(m,{show:s.value,"onUpdate:show":r[0]||(r[0]=Y=>s.value=Y),"on-after-leave":l},{default:d(()=>[c(i,{style:{width:"600px"},title:"模态框",bordered:!1,size:"huge",role:"dialog","aria-modal":"true"},{"header-extra":d(()=>[D(t.$slots,"header-extra",{},()=>[f(" 噢！ ")])]),footer:d(()=>[D(t.$slots,"footer",{},()=>[f(" 尾部 ")])]),default:d(()=>[D(t.$slots,"default",{},()=>[f(" 内容 ")])]),_:3})]),_:3},8,["show"])]),_:3},8,["theme"])}}});var g,L;class j{static showModel(e,n,s={}){return V(this,g,L).call(this,e,{param:n})}}g=new WeakSet,L=function(e,n,s={}){const l=document.createElement("div"),a=`any_dialog_${Math.random()}`;l.setAttribute("id",a);let t;function r(){t&&(t.unmount(),document.body.removeChild(l),t=void 0)}return new Promise((i,m)=>{if(t)return;const u={onConfirm:async $=>{r(),i($)},...n};t=W({render:()=>N(_e,{"onOn-after-leave":()=>{r()}},{default:()=>N(e,u)})}).use(X),document.body.appendChild(l),t==null||t.mount(l)})},k(j,g);var Me=Object.defineProperty,ye=Object.getOwnPropertyDescriptor,S=(o,e,n,s)=>{for(var l=s>1?void 0:s?ye(e,n):e,a=o.length-1,t;a>=0;a--)(t=o[a])&&(l=(s?t(e,n,l):t(l))||l);return s&&l&&Me(e,n,l),l};class _ extends re{constructor(){super(...arguments);v(this,"id");v(this,"name");v(this,"url");v(this,"status")}}S([x("文件id"),A()],_.prototype,"id",2);S([x("文件名称"),A()],_.prototype,"name",2);S([x("文件资源地址"),A()],_.prototype,"url",2);S([x("文件上传状态"),A()],_.prototype,"status",2);var O=(o=>(o.Image="image/*",o.Video="video/*",o.Audio="audio/*",o.Document="application/pdf,application/msword,application/vnd.ms-excel,application/vnd.ms-powerpoint,application/vnd.openxmlformats-officedocument.wordprocessingml.document,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet,application/vnd.openxmlformats-officedocument.presentationml.presentation",o.Spreadsheet="application/vnd.ms-excel,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",o.Presentation="application/vnd.ms-powerpoint,application/vnd.openxmlformats-officedocument.presentationml.presentation",o.Text="text/plain",o.Archive="application/zip,application/x-rar-compressed",o.Unknown="*/*",o))(O||{});const he=h("br",null,null,-1),ve=w({__name:"Upload",props:{...te(),action:{type:String,default:"https://www.mocky.io/v2/5e4bafc63100007100d8b70f"},accept:{type:Array,default:()=>[O.Document]},max:{type:Number,default:1},payload:{type:Object,default:void 0},headers:{type:Object,default:void 0},onRemove:{type:Function,default:void 0}},emits:["update:modelValue"],setup(o,{emit:e}){const n=o;U(()=>n.modelValue,i=>{l.value=i??[]},{deep:!0});const s=B(()=>n.accept.join(",")),l=y([]);U(l,i=>{e("update:modelValue",i)},{deep:!0});function a(i){l.value=H.parseArray(i.fileList,_)}function t(i){var u;const m={file:H.parse(i.file,_),fileList:H.parseArray(i.fileList,_)};(u=n.onRemove)==null||u.call(n,m)}function r(){new ee().info("是的，file-list 的值变了"),e("update:modelValue")}return(i,m)=>{const u=p("n-icon"),Y=p("n-text"),$=p("n-upload-dragger"),z=p("n-upload");return C(),b(z,{"file-list":l.value,"onUpdate:fileList":[m[0]||(m[0]=R=>l.value=R),r],multiple:"","directory-dnd":"",max:n.max,data:n.payload,action:n.action,headers:n.headers,accept:s.value,disabled:n.disabled,onRemove:t,onChange:a},{default:d(()=>[c($,null,{default:d(()=>[c(u,{size:"48",depth:3},{default:d(()=>[c(M(me))]),_:1}),he,c(Y,{style:{"font-size":"16px"}},{default:d(()=>[f(" 点击或者拖动文件到该区域来上传 ")]),_:1})]),_:1})]),_:1},8,["file-list","max","data","action","headers","accept","disabled"])}}}),Ye=h("div",null,[h("h1",null,"这是一个Demo页面")],-1),He=w({__name:"index",setup(o){const e=y(!1),n=y(""),s=y(""),l=y(0);return(a,t)=>{const r=p("n-card"),i=p("n-modal"),m=p("n-space");return C(),b(M(J),null,{default:d(()=>[Ye,c(i,{show:e.value,"onUpdate:show":t[0]||(t[0]=u=>e.value=u)},{default:d(()=>[c(r,{style:{width:"600px"},title:"模态框",bordered:!1,size:"huge",role:"dialog","aria-modal":"true"},{"header-extra":d(()=>[f(" 噢！ ")]),footer:d(()=>[f(" 尾部 ")]),default:d(()=>[c(ve)]),_:1})]),_:1},8,["show"]),c(m,null,{default:d(()=>[c(M(F),{onClick:t[1]||(t[1]=u=>M(j).showModel(oe))},{default:d(()=>[f("打开弹窗（api调用）")]),_:1}),c(M(F),{onClick:t[2]||(t[2]=u=>e.value=!e.value)},{default:d(()=>[f("打开弹窗（组件式）")]),_:1}),f(" "+Z(M(fe).format("Fri Sep 08 2023 10:20:13 GMT+0800 (中国标准时间)"))+" ",1),c(ne,{modelValue:n.value,"onUpdate:modelValue":t[3]||(t[3]=u=>n.value=u)},null,8,["modelValue"]),c(le,{modelValue:n.value,"onUpdate:modelValue":t[4]||(t[4]=u=>n.value=u)},null,8,["modelValue"]),c(se,{modelValue:s.value,"onUpdate:modelValue":t[5]||(t[5]=u=>s.value=u)},null,8,["modelValue"]),c(ae,{modelValue:l.value,"onUpdate:modelValue":t[6]||(t[6]=u=>l.value=u)},null,8,["modelValue"])]),_:1})]),_:1})}}});export{He as default};
