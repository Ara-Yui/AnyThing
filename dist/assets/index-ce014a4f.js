var Ie=Object.defineProperty;var Be=(t,e,n)=>e in t?Ie(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var l=(t,e,n)=>(Be(t,typeof e!="symbol"?e+"":e,n),n),He=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)};var ne=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)};var S=(t,e,n)=>(He(t,e,"access private method"),n);import{d as K,n as we,a as Ne,b as V,c as ue,r as $,o as de,e as b,f as T,g as H,w as g,h as C,i as z,j as X,k as Ve,_ as O,l as oe,m as xe,p as G,u as F,q as se,T as We,s as je,t as Ye,v as Ce,x as be,y as he,z as Xe,A as Ge,E as A,W as Ue,B as Ke,C as re,D as j,F as qe,G as Je,H as Qe,I as Ze,J as et,K as tt,L as nt,M as it}from"./vendor-a3ce1f9d.js";import{_ as Ae}from"./plugin-vue_export-helper-c27b6911.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const s of r.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function n(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerpolicy&&(r.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?r.credentials="include":o.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(o){if(o.ep)return;o.ep=!0;const r=n(o);fetch(o.href,r)}})();const ot=K("clickPositionStore",{persist:!0,state:()=>({clickedPosition:null}),actions:{setClickedPosition(t){this.clickedPosition=t}}}),st=K("graphStore",{state:()=>({recordsCenter:{}}),actions:{setRecord(t,e){console.log("setRecord",t,e),this.recordsCenter[t]=e,we(()=>{console.log("this.recordsCenter",this.recordsCenter)})},getRecord(t){return this.recordsCenter[t]},deleteRecord(t){delete this.recordsCenter[t]},resetRecord(){this.recordsCenter={}}}});function me(){return{graphStore:st(),clickPositionStore:ot()}}const rt=K("graphConfig",{persist:!0,state:()=>({devicePixelRatio:window.devicePixelRatio,expectWidth:1920,expectHeight:1080})});var ae=(t=>(t.DARK="dark",t.LIGHT="light",t))(ae||{});const at=K("appConfig",{persist:!0,state:()=>({themeType:ae.DARK,themeOverrides:{},staticUrl:"xx",maxFileSize:1024*1024*10,max:999999999999999,min:-999999999999999,maxLength:16,minLength:0}),getters:{theme(){return this.themeType===ae.DARK?Ne:void 0}},actions:{setThemeType(t){this.themeType=t}}});var ke=(t=>(t[t.TASK=32]="TASK",t[t.NORMAL=72]="NORMAL",t[t.BIG=114]="BIG",t[t.SMALL=58]="SMALL",t))(ke||{});const lt=""+new URL("setting-f226ad93.svg",import.meta.url).href,ct=""+new URL("MacBg-2k-d3e87622.jpg",import.meta.url).href,ut=V({__name:"Dialog",props:{onConfirm:{type:Function,default:()=>()=>{console.log("onConfirm")}},param:{type:Object,default:()=>({})}},emits:["on-after-leave"],setup(t,{emit:e}){const n=ue(()=>x().AppConfig.theme),i=$(!1);function o(){e("on-after-leave")}function r(){const s=me().clickPositionStore.clickedPosition;if(!s)return;const a=document.createElement("div");a.style.cssText=`
    position: fixed;
    top: ${s.y}px;
    left: ${s.x}px;
    width: 1px;
    height: 1px;
    z-index: 9999;
    opacity: 0;
    pointer-events: none;
  `,document.body.appendChild(a),a.click(),a.remove()}return de(()=>{r(),i.value=!0}),(s,a)=>{const c=b("n-card"),u=b("n-modal"),d=b("n-config-provider");return T(),H(d,{theme:n.value},{default:g(()=>[C(u,{show:i.value,"onUpdate:show":a[0]||(a[0]=p=>i.value=p),"on-after-leave":o},{default:g(()=>[C(c,{style:{width:"600px"},title:"模态框",bordered:!1,size:"huge",role:"dialog","aria-modal":"true"},{"header-extra":g(()=>[z(s.$slots,"header-extra",{},()=>[X(" 噢！ ")])]),footer:g(()=>[z(s.$slots,"footer",{},()=>[X(" 尾部 ")])]),default:g(()=>[z(s.$slots,"default",{},()=>[X(" 内容 ")])]),_:3})]),_:3},8,["show"])]),_:3},8,["theme"])}}});class dt{static asyncComponent(e,n=20){return Ve({loader:e,delay:n})}}class mt{constructor(e){l(this,"element");l(this,"initStatus",{mouseStartX:0,mouseStartY:0,elementWidth:0,elementHeight:0,elementLeft:0,elementTop:0,elementRight:0,elementBottom:0,transtion:""});l(this,"config",{minWidth:400,minHeight:270,minDistanceToClient:10});l(this,"currentController",null);l(this,"startResize",e=>{e.preventDefault(),this.currentController=e.target;const{clientX:n,clientY:i}=e,{offsetWidth:o,offsetHeight:r}=this.element,{left:s,top:a}=this.element.getBoundingClientRect(),c=document.documentElement.clientWidth-s-o,u=document.documentElement.clientHeight-a-r,d=this.element.style.transition;Object.assign(this.initStatus,{mouseStartX:n,mouseStartY:i,elementWidth:o,elementHeight:r,elementLeft:s,elementTop:a,elementRight:c,elementBottom:u,transition:d}),this.element.style.transition="unset",document.addEventListener("mousemove",this.mousemove),document.addEventListener("mouseup",this.mouseup)});l(this,"mousemove",e=>{var k;const{clientX:n,clientY:i}=e,{mouseStartX:o,mouseStartY:r,elementWidth:s,elementHeight:a,elementTop:c,elementLeft:u,elementRight:d,elementBottom:p}=this.initStatus,f=n-o,v=i-r,_=document.documentElement.clientWidth,y=document.documentElement.clientHeight,I=(L,w)=>{const R=this.config.minWidth,B=_-w-this.config.minDistanceToClient;return Math.min(Math.max(L,R),B)},D=(L,w)=>{const R=this.config.minHeight,B=y-w-this.config.minDistanceToClient;return Math.min(Math.max(L,R),B)},m=(L,w)=>Math.max(Math.min(L,w),this.config.minDistanceToClient);let h="";switch((k=this.currentController)==null?void 0:k.style.cursor){case"w-resize":h=`
        width: ${I(s-f,d)}px;
        height: ${a}px;
        top: ${c}px;
        left: ${m(u+f,_-this.config.minWidth-d)}px;
        right:${d}px;
        bottom:${p}px;
        transition: unset;
      `;break;case"e-resize":h=`
        width: ${I(s+f,u)}px;
        height: ${a}px;
        top: ${c}px;
        left: ${u}px;
        right:${m(d-f,_-this.config.minWidth-u)}px;
        bottom:${p}px;
        transition: unset;
      `;break;case"n-resize":h=`
        width: ${s}px;
        height: ${D(a-v,p)}px;
        top: ${m(c+v,y-this.config.minHeight-p)}px;
        left: ${u}px;
        right:${d}px;
        bottom:${p}px;
        transition: unset;
      `;break;case"s-resize":h=`
        width: ${s}px;
        height: ${D(a+v,c)}px;
        top: ${c}px;
        left: ${u}px;
        right:${d}px;
        bottom:${m(p-v,y-this.config.minHeight-c)}px;
        transition: unset;
      `;break;case"nw-resize":h=`
        width: ${I(s-f,d)}px;
        height: ${D(a-v,p)}px;
        top: ${m(c+v,y-this.config.minHeight-p)}px;
        left: ${m(u+f,_-this.config.minWidth-d)}px;
        right:${d}px;
        bottom:${p}px;
        transition: unset;
      `;break;case"ne-resize":h=`
        width: ${I(s+f,u)}px;
        height: ${D(a-v,p)}px;
        top: ${m(c+v,y-this.config.minHeight-p)}px;
        left: ${u}px;
        right:${m(d-f,_-this.config.minWidth-u)}px;
        bottom:${p}px;
        transition: unset;
      `;break;case"sw-resize":h=`
        width: ${I(s-f,d)}px;
        height: ${D(a+v,c)}px;
        top: ${c}px;
        left: ${m(u+f,_-this.config.minWidth-d)}px;
        right:${d}px;
        bottom:${m(p-v,y-this.config.minHeight-c)}px;
        transition: unset;
      `;break;case"se-resize":h=`
        width: ${I(s+f,u)}px;
        height: ${D(a+v,c)}px;
        top: ${c}px;
        left: ${u}px;
        right:${m(d-f,_-this.config.minWidth-u)}px;
        bottom:${m(p-v,y-this.config.minHeight-c)}px;
        transition: unset;
      `;break}this.element.style.cssText=h});l(this,"mouseup",()=>{this.element.style.transition=this.initStatus.transtion,document.removeEventListener("mousemove",this.mousemove),document.removeEventListener("mouseup",this.mouseup)});this.element=e;const n=[{cssText:"position: absolute; width: 10px; height: 100%; left: -5px; top: 0; cursor: w-resize;",listener:this.startResize},{cssText:"position: absolute; width: 10px; height: 100%; right: -5px; top: 0; cursor: e-resize;",listener:this.startResize},{cssText:"position: absolute; width: 100%; height: 10px; left: 0; top: -5px; cursor: n-resize;",listener:this.startResize},{cssText:"position: absolute; width: 100%; height: 10px; left: 0; bottom: -5px; cursor: s-resize;",listener:this.startResize},{cssText:"position: absolute; width: 10px; height: 10px; left: -5px; top: -5px; cursor: nw-resize;",listener:this.startResize},{cssText:"position: absolute; width: 10px; height: 10px; right: -5px; top: -5px; cursor: ne-resize;",listener:this.startResize},{cssText:"position: absolute; width: 10px; height: 10px; left: -5px; bottom: -5px; cursor: sw-resize;",listener:this.startResize},{cssText:"position: absolute; width: 10px; height: 10px; right: -5px; bottom: -5px; cursor: se-resize;",listener:this.startResize}];for(const i of n)this.createController(i.cssText,i.listener)}createController(e,n){const i=document.createElement("div");i.style.cssText=e,i.addEventListener("mousedown",n),this.element.appendChild(i)}}const pt=t=>(je("data-v-886a5f58"),t=t(),Ye(),t),ft=pt(()=>G("div",{class:"title"}," 弹窗标题 ",-1)),ht={class:"main"},gt={class:"footer"},vt=V({__name:"DialogMac",props:{onModelMounted:{type:Function,default:void 0},beforClose:{type:Function,default:void 0},beforMinimize:{type:Function,default:void 0}},emits:["on-after-leave"],setup(t,{emit:e}){const n=t,i=dt.asyncComponent(()=>O(()=>import("./ControllerMac-a30d5eed.js"),["./ControllerMac-a30d5eed.js","./plugin-vue_export-helper-c27b6911.js","./vendor-a3ce1f9d.js","./vendor-e98c73d8.css","./ControllerMac-183203a7.css"],import.meta.url)),{clickedPosition:o}=me().clickPositionStore,r=$(),s=$(),a=$(!1),c=$(!1),u={width:0,height:0,offsetX:0,offsetY:0,transtion:""},d={x:0,y:0};async function p(){if(!(n.beforClose&&!await n.beforClose())){if(a.value){const m=`
    width: 100vw ;
    height: 100vh ;
    left: 0 ;
    top: 0 ;
    bottom: 0 ;
    border-radius: 0 ;
    z-index: 9999 !important;
  `;s.value.style.cssText=m,s.value.classList.remove("any_model_full_screen")}c.value=!0,setTimeout(()=>{e("on-after-leave")},1e3)}}async function f(){s.value.classList.add("any_model_minimize")}function v(){var m,h;o&&((m=r.value)==null||m.style.setProperty("--startX",`${o.x}px`),(h=r.value)==null||h.style.setProperty("--startY",`${o.y}px`)),we(async()=>{var w,R,B,fe;const L=.1388888888888889;if(n.beforMinimize){const{minimizeToX:Fe,minimizeToY:Ee}=await n.beforMinimize();d.x=Fe,d.y=Ee}(w=r.value)==null||w.style.setProperty("--scaleX",`${.1125}`),(R=r.value)==null||R.style.setProperty("--scaleY",`${L}`),(B=r.value)==null||B.style.setProperty("--minimizeToX",`${d.x}px`),(fe=r.value)==null||fe.style.setProperty("--minimizeToY",`${d.y}px`)})}function _(){a.value=!a.value,a.value?s.value.classList.add("any_model_full_screen"):s.value.classList.remove("any_model_full_screen")}function y(m){let{clientX:h,clientY:k}=m;h<0&&(h=0),k<0&&(k=0),h>window.innerWidth&&(h=window.innerWidth),k>window.innerHeight&&(k=window.innerHeight);const L=h-u.offsetX,w=k-u.offsetY,R=`
    width: ${u.width}px;
    height: ${u.height}px;
    top: ${w}px;
    left: ${L}px;
    transition: unset;
  `;s.value.style.cssText=R}function I(m){if(a.value)return;const{width:h,height:k}=s.value.getBoundingClientRect(),{left:L,top:w}=s.value.getBoundingClientRect(),{clientX:R,clientY:B}=m;u.transtion=s.value.style.transition,u.width=h,u.height=k,u.offsetX=R-L,u.offsetY=B-w,document.addEventListener("mousemove",y),document.addEventListener("mouseup",D)}function D(){s.value.style.transition=u.transtion,document.removeEventListener("mousemove",y),document.removeEventListener("mouseup",D)}return de(()=>{n.onModelMounted&&n.onModelMounted(s.value),new mt(s.value),v()}),(m,h)=>(T(),oe("div",{ref_key:"PositionProviderRef",ref:r,class:"position_provider"},[C(We,{name:"any_model",appear:""},{default:g(()=>[c.value?se("",!0):(T(),oe("div",{key:0,ref_key:"AnyModelRef",ref:s,class:xe(["any_model_mac"])},[G("div",{class:"header",onMousedown:I},[C(F(i),{"on-close":p,"on-minimize":f,"on-maximize":_}),ft],32),G("div",ht,[z(m.$slots,"default",{},void 0,!0)]),G("div",gt,[z(m.$slots,"footer",{},void 0,!0)])],512))]),_:3})],512))}}),_t=Ae(vt,[["__scopeId","data-v-886a5f58"]]);var U,le;class Le{static showModel(e,n,i){return S(this,U,le).call(this,e,{param:n},i)}static showMacModel(e,n,i){return S(this,U,le).call(this,e,{param:n},{dialogComponent:_t,...i})}}U=new WeakSet,le=function(e,n,i){const o=document.createElement("div"),r=`any_dialog_${Math.random()}`;o.setAttribute("id",r);let s;function a(){s&&(s.unmount(),document.body.removeChild(o),s=void 0)}return new Promise((c,u)=>{if(s)return;const d={onConfirm:async f=>{a(),c(f)},...n};s=Ce({render:()=>he((i==null?void 0:i.dialogComponent)||ut,{"onOn-after-leave":()=>{a()},beforClose:i==null?void 0:i.beforClose,beforMinimize:i==null?void 0:i.beforMinimize,onModelMounted:i==null?void 0:i.onModelMounted},{default:()=>he(e,d)})}).use(be),document.body.appendChild(o),s==null||s.mount(o)})},ne(Le,U);const Me=Symbol("customFieldName");function Vt(t){return function(e,n){Reflect.defineMetadata(Me,t,e,n)}}function pe(t,e){let n=Reflect.getOwnMetadata(Me,t,e);if(n)return n;const i=Object.getPrototypeOf(t);return i.constructor.name===q.name?e:(n=pe(i,e),n)}var Te=(t=>(t.TEXT="text",t.TEXTAREA="textarea",t.RICHTEXT="richText",t.DATE="date",t.RADIO="radio",t.CHECKBOX="checkbox",t.SELECT="select",t.SWITCH="switch",t.SLIDER="slider",t.IMAGE="image",t.FILE="file",t.COLOR="color",t))(Te||{});class yt{constructor(){l(this,"key");l(this,"label")}}var Re=(t=>(t.DATE="date",t.DATERANGE="daterange",t.DATETIME="datetime",t.DATETIMERANGE="datetimerange",t.YEAR="year",t.MONTH="month",t.MONTHRANGE="monthrange",t))(Re||{});class $e extends yt{constructor(){super(...arguments);l(this,"formType",Te.TEXT);l(this,"dateType",Re.DATE);l(this,"maxLength",x().AppConfig.maxLength);l(this,"minLength",x().AppConfig.minLength);l(this,"required",!1);l(this,"placeholder","");l(this,"disabled",!1);l(this,"clearable",!0);l(this,"hidden",!1);l(this,"defaultValue","");l(this,"trim",!0);l(this,"emumRecord",[]);l(this,"checkedValue",!0);l(this,"unCheckedValue",!1)}}const ze=Symbol("customFormFieldConfigName"),ee=Symbol("customFormFieldConfigListName");function Wt(t){return function(e,n){t||(t=new $e);const i=Reflect.getOwnMetadata(ee,e)||[];i.push(n),Reflect.defineMetadata(ze,t,e,n),Reflect.defineMetadata(ee,i,e)}}function te(t,e){let n=Reflect.getOwnMetadata(ze,t,e);if(!n){const o=Object.getPrototypeOf(t);if(o.constructor.name===q.name)return null;n=te(o,e)}if(!n)return null;n.label||(n.label=pe(t,e));const i=new $e;return n=Object.assign(i,n),n}function ge(t){const e=Reflect.getOwnMetadata(ee,t)||[],n=[];for(const i of e){const o=te(t,i);o&&n.push(o)}return n}function ce(t){const e=Reflect.getOwnMetadata(ee,t)||[],n=Object.getPrototypeOf(t);return n.constructor.name===q.name?e:ce(n).concat(e)}class wt{static parse(e,n,...i){return Xe(n,e,{excludeExtraneousValues:!0,enableImplicitConversion:!0,exposeDefaultValues:!0,exposeUnsetFields:!0,enableCircularCheck:!0,targetMaps:i})}static parseArray(e,n,...i){return this.parse(e,n,i)}static copy(e,n){return this.parse(e.toAliasObject(),n)}}class q{static newInstance(){return new this}static getCustomFieldName(e){return pe(this.newInstance(),e)}static getCustomFormFieldConfig(e){return te(this.newInstance(),e)}static getCustomFormFieldConfigList(){return ge(this.newInstance())}static getgetFormFieldList(){return ce(this.newInstance())}getCustomFormFieldConfig(e){return te(this,e)}getCustomFormConfigList(){return ge(this)}getCustomFormList(){return ce(this)}getCustomFieldName(e){return this.getCustomFieldName(e)}toAliasObject(){return Ge(this)}toAliasString(){return JSON.stringify(this.toAliasObject())}toNormalString(){return JSON.stringify(this)}assign(e){return Object.assign(this,e)}copy(){return wt.copy(this,this.constructor)}expose(...e){const n=Object.keys(this);for(const i of n)e.includes(i)||(this[i]=void 0);return this}exclude(...e){const n=Object.keys(this);for(const i of n)e.includes(i)&&(this[i]=void 0);return this}}var xt=Object.defineProperty,Ct=Object.getOwnPropertyDescriptor,W=(t,e,n,i)=>{for(var o=i>1?void 0:i?Ct(e,n):e,r=t.length-1,s;r>=0;r--)(s=t[r])&&(o=(i?s(e,n,o):s(o))||o);return i&&o&&xt(e,n,o),o};class E extends q{constructor(n){super();l(this,"id");l(this,"app");l(this,"modelDom");l(this,"taskBarDom");l(this,"taskViewDom");l(this,"isActive",!0);l(this,"isMinimize",!1);this.app=n,this.isActive=!0,this.isMinimize=!1}setActive(n){this.isActive=n}setMinimize(n){this.isMinimize=n}setModelDom(n){this.modelDom=n}setTaskBarDom(n){this.taskBarDom=n}setTaskViewDom(n){this.taskViewDom=n}}W([A()],E.prototype,"id",2);W([A()],E.prototype,"app",2);W([A()],E.prototype,"modelDom",2);W([A()],E.prototype,"taskBarDom",2);W([A()],E.prototype,"taskViewDom",2);W([A()],E.prototype,"isActive",2);W([A()],E.prototype,"isMinimize",2);class De{static setCurrentApp(e){var i,o;const{currentApp:n}=x().DesktopConfig;n&&((i=n.dom)==null||i.classList.remove("active")),(o=e.dom)==null||o.classList.add("active"),x().DesktopConfig.currentApp=e}static addTask(e){this.setCurrentApp(e);const{appTaskList:n}=x().DesktopConfig,i=new E(e),o=this.getTaskDomByApp(e);return o&&i.setTaskBarDom(o),i.id=Date.now(),i.setActive(!0),n.push(i),i}static removeTask(e){const{appTaskList:n}=x().DesktopConfig,i=n.findIndex(o=>o.id===e.id);n.splice(i,1)}static getTaskDomByApp(e){const{appTaskList:n}=x().DesktopConfig,i=n.find(o=>o.app.name===e.name);return(i==null?void 0:i.taskBarDom)||null}}var bt=Object.defineProperty,At=Object.getOwnPropertyDescriptor,J=(t,e,n,i)=>{for(var o=i>1?void 0:i?At(e,n):e,r=t.length-1,s;r>=0;r--)(s=t[r])&&(o=(i?s(e,n,o):s(o))||o);return i&&o&&bt(e,n,o),o};class M extends q{constructor(){super(...arguments);l(this,"name");l(this,"icon");l(this,"description");l(this,"handler");l(this,"dom")}setDom(n){this.dom=n}setHandler(n){this.handler=n}}J([A()],M.prototype,"name",2);J([A()],M.prototype,"icon",2);J([A()],M.prototype,"description",2);J([A()],M.prototype,"handler",2);J([A()],M.prototype,"dom",2);const kt={style:{width:"100%",height:"100%"}},Lt=V({__name:"index",props:{language:{type:String,default:"json"},oldValue:{type:String,default:"aaa"},newValue:{type:String,default:"aaab"}},setup(t){const e=t;self.MonacoEnvironment={getWorker(c,u){return u==="json"?new Ue:new Ke}};const n=$();let i,o,r;const s=$({theme:"vs-dark",roundedSelection:!1,autoIndent:"keep",readOnly:!1,selectOnLineNumbers:!0,automaticLayout:!0});re(()=>e.newValue,c=>{r=j.createModel(c,e.language),i&&i.setModel({original:o,modified:r})},{immediate:!0}),re(()=>e.oldValue,c=>{o=j.createModel(c,e.language),i&&i.setModel({original:o,modified:r})},{immediate:!0});function a(){i=j.createDiffEditor(n.value,s.value),o=j.createModel(e.oldValue,e.language),r=j.createModel(e.newValue,e.language),i.setModel({original:o,modified:r})}return de(()=>{a()}),(c,u)=>(T(),oe("div",kt,[G("div",{ref_key:"container",ref:n,class:"code-editor"},null,512)]))}}),Mt=Ae(Lt,[["__scopeId","data-v-79ad9e91"]]),Tt=V({__name:"Panle",props:{hideSlider:{type:Boolean,default:!1},showRightSlider:{type:Boolean,default:!1},showLeftSlider:{type:Boolean,default:!1},customClassLeftSlider:{type:[String,Array],default:""}},emits:["resize"],setup(t,{emit:e}){const n=t,i=ue(()=>{if(!n.hideSlider)return n.showLeftSlider&&n.showRightSlider?"left":!n.showLeftSlider&&n.showRightSlider?"right":(n.showLeftSlider&&!n.showRightSlider,"left")}),o=()=>{e("resize")};return(r,s)=>{const a=b("n-layout-sider"),c=b("n-layout-content"),u=b("n-layout");return T(),H(u,{style:{height:"100%"},"has-sider":"","sider-placement":i.value},{default:g(()=>[!t.hideSlider&&t.showLeftSlider?(T(),H(a,{key:0,bordered:"","show-trigger":"bar","collapse-mode":"transform","content-style":"padding: 16px;",class:xe(t.customClassLeftSlider),width:300,"collapsed-width":0,"on-after-leave":o,"on-after-enter":o},{default:g(()=>[z(r.$slots,"slider-left")]),_:3},8,["class"])):se("",!0),C(c,null,{default:g(()=>[z(r.$slots,"default")]),_:3}),!t.hideSlider&&t.showRightSlider?(T(),H(a,{key:1,bordered:"","show-trigger":"bar","collapse-mode":"transform","content-style":"padding: 16px;",width:400,"collapsed-width":0,"on-after-leave":o,"on-after-enter":o},{default:g(()=>[z(r.$slots,"slider-right")]),_:3})):se("",!0)]),_:3},8,["sider-placement"])}}});var Y=(t=>(t.PRIMARY="primary",t.SECONDARY="secondary",t.TERTIARY="tertiary",t.QUATERNARY="quaternary",t))(Y||{});const ve=V({__name:"Button",props:{type:{type:String,default:"primary"},size:{type:String,default:"medium"},loading:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},icon:{type:Object,default:()=>qe},level:{type:String,default:Y.PRIMARY}},emits:["click"],setup(t){const e=t,n=ue(()=>{switch(e.size){case"tiny":return"12";case"small":return"16";case"medium":return"20";case"large":return"24";default:return"20"}});return(i,o)=>{const r=b("n-icon"),s=b("n-button");return T(),H(s,{size:t.size,type:t.type,focusable:!1,loading:t.loading,disabled:t.disabled,secondary:t.level===F(Y).SECONDARY,tertiary:t.level===F(Y).TERTIARY,quaternary:t.level===F(Y).QUATERNARY,onClick:o[0]||(o[0]=a=>i.$emit("click"))},{default:g(()=>[z(i.$slots,"icon",{},()=>[C(r,{size:n.value},{default:g(()=>[(T(),H(Je(t.icon)))]),_:1},8,["size"])]),z(i.$slots,"default")]),_:3},8,["size","type","loading","disabled","secondary","tertiary","quaternary"])}}});var P,N;class ie{constructor(){ne(this,P);l(this,"duration",3e3);l(this,"placement","top-end");l(this,"type","info");l(this,"closable",!1);l(this,"messageInstance",null);l(this,"keepAliveOnHover",!0)}default(e){this.type="default",S(this,P,N).call(this,e)}info(e){this.type="info",S(this,P,N).call(this,e)}success(e){this.type="success",S(this,P,N).call(this,e)}warning(e){this.type="warning",S(this,P,N).call(this,e)}error(e){this.type="error",S(this,P,N).call(this,e)}loading(e){return this.closable=!1,this.keepAliveOnHover=!1,this.duration=0,this.placement="middle",this.type="loading",S(this,P,N).call(this,e),this}close(){var e;(e=this.messageInstance)==null||e.destroy()}setDuration(e){return this.duration=e,this}setPlacement(e){return this.placement=e,this}setClosable(e){return this.closable=e,this}}P=new WeakSet,N=function(e){const{message:n}=Qe(["message"]);this.messageInstance=n.create(e,{duration:this.duration,placement:this.placement,type:this.type,closable:this.closable,keepAliveOnHover:this.keepAliveOnHover})};class _e{static async openAndGetFileContent({accept:e="*",compatible:n=!0,cancel:i=300,multiple:o=!1,webkitdirectory:r,description:s}={}){const a=await this.openFileDialog({accept:e,compatible:n,cancel:i,multiple:o,webkitdirectory:r,description:s});if(!a||a.length===0)throw new Error(`未选定文件
Unselected file`);const c=a[0];return await this.readFileAsText(c)}static async openFileDialog({accept:e="*",compatible:n=!0,cancel:i=300,multiple:o,webkitdirectory:r,description:s}={}){var c;if(e.constructor===Array&&(e=e.join(",")),!n&&window.hasOwnProperty("showOpenFilePicker")){console.warn(`请注意，showOpenFilePicker是一个实验性接口，大多数浏览器不支持它，所以请谨慎使用。
 Please note that showOpenFilePicker is an experimental interface that is not supported by most browsers, so use it with caution.`);const u=[],d={};for(let f of e.split(","))d[f]=[];const p=await((c=window.showOpenFilePicker)==null?void 0:c.call(window,{multiple:o,excludeAcceptAllOption:!1,types:[{description:s,accept:d}]}));for(const f of p)u.push(await f.getFile());return u}const a=document.createElement("input");return a.id=`__file_${Math.trunc(Math.random()*1e5)}`,a.type="file",a.style.display="none",a.accept=e,o&&(a.multiple=o),r&&(console.warn(`该特性是非标准的，请尽量不要在生产环境中使用它！
This feature is non-standard, so try not to use it in a production environment!`),a.webkitdirectory=r),a.click(),await new Promise((u,d)=>{let p=!1;const f=()=>{const _=a.files;_&&(p=!0,u(Array.from(_)))},v=_=>{var y;((y=_.target)==null?void 0:y.constructor)===Window&&setTimeout(()=>{!p&&d(`未选定文件
Unselected file`)},i)};a.addEventListener("change",f,{once:!0}),i&&window.addEventListener("focus",v,{once:!0})})}static async readFileAsText(e){if(!e)throw new ie().error(`文件读取失败
File read failed`),new Error("文件为空");if(e.size>x().AppConfig.maxFileSize)throw new ie().error(`文件大小超过限制
File size exceeds limit`),new Error("文件大小超过限制");if(e.type.includes("image")||e.type.includes("audio")||e.type.includes("video"))throw new ie().error(`文件类型不支持
File type not supported`),new Error("文件类型不支持");return new Promise((n,i)=>{const o=new FileReader;o.onload=r=>{var s;n((s=r.target)==null?void 0:s.result)},o.onerror=r=>{i(r)},o.readAsText(e)})}static getFileSizeFriendly(e,n=2){const o=["B","KB","MB","GB","TB","PB","EB","ZB","YB"];let r="";for(let s=0;s<o.length;s+=1){if(e<1024**(s+1)){r=`${(e/1024**s).toFixed(n)}${o[s]}`;break}r="LARGE FILE"}return r}static getStaticFileUrl(e){return e?e.includes("https://")||e.includes("http://")?e:x().AppConfig.staticUrl+e:""}}const Se=V({__name:"index",setup(t){const e=$("json"),n=$(""),i=$("");async function o(){console.log("addCurrentCode");const s=await _e.openAndGetFileContent();n.value=s}async function r(){console.log("addHistoryCode");const s=await _e.openAndGetFileContent();i.value=s}return(s,a)=>{const c=b("n-space");return T(),H(F(Tt),{"show-left-slider":""},{"slider-left":g(()=>[C(c,null,{default:g(()=>[C(F(ve),{onClick:o},{default:g(()=>[X("添加当前版本")]),_:1}),C(F(ve),{onClick:r},{default:g(()=>[X("添加历史版本")]),_:1})]),_:1})]),default:g(()=>[C(Mt,{"new-value":n.value,"old-value":i.value,language:e.value},null,8,["new-value","old-value","language"])]),_:1})}}}),Rt=Object.freeze(Object.defineProperty({__proto__:null,default:Se},Symbol.toStringTag,{value:"Module"})),Q=""+new URL("anyIcon-f402b05f.svg",import.meta.url).href,$t=async(t,e)=>{e.setModelDom(t)},zt=async t=>(De.removeTask(t),!0),Dt=async t=>{t.setMinimize(!0);const{left:e,top:n}=t.taskBarDom.getBoundingClientRect();return{minimizeToX:e,minimizeToY:n,targetDom:t.taskViewDom}},Z=t=>{if(t instanceof M){const e=De.addTask(t);Le.showMacModel(Se,{},{onModelMounted:n=>$t(n,e),beforClose:()=>zt(e),beforMinimize:()=>Dt(e)})}else t instanceof E&&t.setMinimize(!t.isMinimize)},ye=[new M().assign({name:"模板打印",icon:Q,handler:Z}),new M().assign({name:"图形引擎",icon:Q,handler:Z}),new M().assign({name:"代码编辑器",icon:Q,handler:Z}),new M().assign({name:"GIS引擎",icon:Q,handler:Z})],St=K("desktopConfig",{persist:[{key:"desktopConfig",storage:localStorage,paths:["appIconSize","defaultBackgroundImg","defaultTaskAppList","appList"]}],state:()=>({appIconSize:ke.NORMAL,defaultBackgroundImg:ct,currentBackgroundImg:"",defaultTaskAppList:[{name:"系统设置",icon:lt}],appTaskList:[],appList:ye,currentApp:null}),getters:{appListWithHandler:t=>{var e;return(e=t.appList)==null?void 0:e.map(n=>{var o;const i=(o=ye.find(r=>r.name===n.name))==null?void 0:o.handler;return i&&(n.handler=i),new M().assign(n)})},appListInTaskList:t=>{var e;return(e=t.appList)==null?void 0:e.filter(n=>t.appTaskList.some(i=>i.app.name===n.name))}},actions:{setDesktopBackgroudImg(t,e){e.value=!0;const n=new Image;n.src=t,n.onload=()=>{e.value=!1,this.currentBackgroundImg=t},n.onerror=()=>{e.value=!1}}}}),x=()=>({GraphConfig:rt(),AppConfig:at(),DesktopConfig:St()}),Ot=V({__name:"App",setup(t){const e=Ze();return re(e,n=>{me().clickPositionStore.setClickedPosition(n)},{immediate:!0,deep:!0}),(n,i)=>{const o=b("router-view"),r=b("n-message-provider"),s=b("n-config-provider");return T(),H(s,{theme:F(x)().AppConfig.theme,"theme-overrides":F(x)().AppConfig.themeOverrides},{default:g(()=>[C(r,null,{default:g(()=>[C(o)]),_:1})]),_:1},8,["theme","theme-overrides"])}}}),Pt=[{path:"",name:"桌面",component:()=>O(()=>import("./index-0c1439bb.js"),["./index-0c1439bb.js","./vendor-a3ce1f9d.js","./vendor-e98c73d8.css","./plugin-vue_export-helper-c27b6911.js","./index-5672702b.css"],import.meta.url)},{path:"/home",name:"Home",component:()=>O(()=>import("./index-12582f62.js"),["./index-12582f62.js","./plugin-vue_export-helper-c27b6911.js","./vendor-a3ce1f9d.js","./vendor-e98c73d8.css"],import.meta.url)},{path:"/",name:"layout",component:()=>O(()=>import("./index-390dc4a7.js"),["./index-390dc4a7.js","./plugin-vue_export-helper-c27b6911.js","./vendor-a3ce1f9d.js","./vendor-e98c73d8.css","./index-94c16862.css"],import.meta.url),children:[{path:"/tempPrint",name:"模板打印",component:()=>O(()=>import("./index-8907e93b.js"),["./index-8907e93b.js","./vendor-a3ce1f9d.js","./vendor-e98c73d8.css","./plugin-vue_export-helper-c27b6911.js","./index-e731127f.css"],import.meta.url)},{path:"/graphics",name:"图形引擎",component:()=>O(()=>import("./index-8aa2654a.js").then(t=>t.i),["./index-8aa2654a.js","./vendor-a3ce1f9d.js","./vendor-e98c73d8.css","./plugin-vue_export-helper-c27b6911.js","./index-b91bb058.css"],import.meta.url)},{path:"/codeEditor",name:"代码编辑器",component:()=>O(()=>Promise.resolve().then(()=>Rt),void 0,import.meta.url)},{path:"/cesium",name:"GIS引擎",component:()=>O(()=>import("./index-03fac273.js"),["./index-03fac273.js","./plugin-vue_export-helper-c27b6911.js","./vendor-a3ce1f9d.js","./vendor-e98c73d8.css","./index-81b978bf.css"],import.meta.url)},{path:"/demo",name:"demo",component:()=>O(()=>import("./index-e58ecaa1.js"),["./index-e58ecaa1.js","./Number-3b85699f.js","./vendor-a3ce1f9d.js","./vendor-e98c73d8.css","./plugin-vue_export-helper-c27b6911.js"],import.meta.url)}]}],Oe=et({history:tt(),routes:Pt});Oe.afterEach(()=>{window.scrollTo(0,0)});const Ft={mounted(t,e,n){function i(o,r=16){let s=null;return function(){s&&clearTimeout(s);const a=this,c=arguments;s=setTimeout(function(){o.apply(a,c)},r)}}t._resizer=new window.ResizeObserver(i(e.value,Number(e.arg)||16)),t._resizer.observe(t)},unmounted(t){t._resizer.disconnect()}},Et={install(t){t.directive("resize",Ft)}};const Pe=nt();Pe.use(it);const It=Ce(Ot);It.use(Oe).use(be).use(Pe).use(Et).mount("#app");export{dt as A,ae as E,Vt as F,ve as _,Wt as a,Te as b,q as c,Y as d,Tt as e,me as f,wt as g,ie as h,Le as i,Se as j,x as u};
