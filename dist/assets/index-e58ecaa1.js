var L=Object.defineProperty;var j=(e,t,o)=>t in e?L(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o;var y=(e,t,o)=>(j(e,typeof t!="symbol"?t+"":t,o),o);import{F as v,c as B,g as C,h as O,_ as w,i as P,j as R,e as z}from"./index-ce014a4f.js";import{A as k,_ as G,a as I,b as X,c as q}from"./Number-3b85699f.js";import{E as h,b as S,C as D,c as J,r as Y,e as p,f as A,g as x,w as d,h as i,u as f,av as K,j as M,p as H,X as Q}from"./vendor-a3ce1f9d.js";import"./plugin-vue_export-helper-c27b6911.js";var V=(e=>(e.YYYY_MM_DD_HH_MM_SS="yyyy-MM-dd hh:mm:ss",e.YYYY_MM_DD_HH_MM="yyyy-MM-dd hh:mm",e.YYYY_MM_DD="yyyy-MM-dd",e.YYYY_MM="yyyy-MM",e.YYYY="yyyy",e.YYYY_MM_DD_HH_MM_SS_CN="yyyy年MM月dd日 hh时mm分ss秒",e.YYYY_MM_DD_HH_MM_CN="yyyy年MM月dd日 hh时mm分",e.YYYY_MM_DD_CN="yyyy年MM月dd日",e.YYYY_MM_CN="yyyy年MM月",e.YYYY_CN="yyyy年",e.MM_DD_CN="MM月dd日",e.HH_MM_SS_CN="hh时mm分ss秒",e.HH_MM_CN="hh时mm分",e.YYYY_MM_DD_HH_MM_SS_SLASH="yyyy/MM/dd hh:mm:ss",e.YYYY_MM_DD_HH_MM_SLASH="yyyy/MM/dd hh:mm",e.YYYY_MM_DD_SLASH="yyyy/MM/dd",e.YYYY_MM_SLASH="yyyy/MM",e))(V||{});class W{static format(t,o=V.YYYY_MM_DD_HH_MM_SS){let s=o.toString();typeof t=="number"?t=new Date(t):typeof t=="string"&&(t=new Date(t.replace(/-/g,"/")));const n={"M+":t.getMonth()+1,"d+":t.getDate(),"h+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds()};/(y+)/.test(s)&&(s=s.replace("yyyy",t.getFullYear()+""));for(const a in n){const l=new RegExp(`(${a})`);l.test(s)&&(s=s.replace(l,a.length===1?n[a].toString():`00${n[a]}`.slice(n[a].toString().length)))}return s}static getTime(t){return typeof t=="number"?t:typeof t=="string"?new Date(t.replace(/-/g,"/")).getTime():t.getTime()}static getTimeText(t){const o=new Date().getTime(),s=this.getTime(t),n=o-s,a=n/(24*60*60*1e3),l=n/(60*60*1e3),m=n/(60*1e3),r=n/1e3;return a>365?`${Math.floor(a/365)}年前`:a>30?`${Math.floor(a/30)}月前`:a>7?`${Math.floor(a/7)}周前`:a>1?`${Math.floor(a)}天前`:l>1?`${Math.floor(l)}小时前`:m>1?`${Math.floor(m)}分钟前`:r>1?`${Math.floor(r)}秒前`:"刚刚"}}var Z=Object.defineProperty,T=Object.getOwnPropertyDescriptor,g=(e,t,o,s)=>{for(var n=s>1?void 0:s?T(t,o):t,a=e.length-1,l;a>=0;a--)(l=e[a])&&(n=(s?l(t,o,n):l(n))||n);return s&&n&&Z(t,o,n),n};class _ extends B{constructor(){super(...arguments);y(this,"id");y(this,"name");y(this,"url");y(this,"status")}}g([v("文件id"),h()],_.prototype,"id",2);g([v("文件名称"),h()],_.prototype,"name",2);g([v("文件资源地址"),h()],_.prototype,"url",2);g([v("文件上传状态"),h()],_.prototype,"status",2);var $=(e=>(e.Image="image/*",e.Video="video/*",e.Audio="audio/*",e.Document="application/pdf,application/msword,application/vnd.ms-excel,application/vnd.ms-powerpoint,application/vnd.openxmlformats-officedocument.wordprocessingml.document,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet,application/vnd.openxmlformats-officedocument.presentationml.presentation",e.Spreadsheet="application/vnd.ms-excel,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",e.Presentation="application/vnd.ms-powerpoint,application/vnd.openxmlformats-officedocument.presentationml.presentation",e.Text="text/plain",e.Archive="application/zip,application/x-rar-compressed",e.Unknown="*/*",e))($||{});const E=H("br",null,null,-1),ee=S({__name:"Upload",props:{...k(),action:{type:String,default:"https://www.mocky.io/v2/5e4bafc63100007100d8b70f"},accept:{type:Array,default:()=>[$.Document]},max:{type:Number,default:1},payload:{type:Object,default:void 0},headers:{type:Object,default:void 0},onRemove:{type:Function,default:void 0}},emits:["update:modelValue"],setup(e,{emit:t}){const o=e;D(()=>o.modelValue,r=>{n.value=r??[]},{deep:!0});const s=J(()=>o.accept.join(",")),n=Y([]);D(n,r=>{t("update:modelValue",r)},{deep:!0});function a(r){n.value=C.parseArray(r.fileList,_)}function l(r){var u;const c={file:C.parse(r.file,_),fileList:C.parseArray(r.fileList,_)};(u=o.onRemove)==null||u.call(o,c)}function m(){new O().info("是的，file-list 的值变了"),t("update:modelValue")}return(r,c)=>{const u=p("n-icon"),b=p("n-text"),F=p("n-upload-dragger"),N=p("n-upload");return A(),x(N,{"file-list":n.value,"onUpdate:fileList":[c[0]||(c[0]=U=>n.value=U),m],multiple:"","directory-dnd":"",max:o.max,data:o.payload,action:o.action,headers:o.headers,accept:s.value,disabled:o.disabled,onRemove:l,onChange:a},{default:d(()=>[i(F,null,{default:d(()=>[i(u,{size:"48",depth:3},{default:d(()=>[i(f(K))]),_:1}),E,i(b,{style:{"font-size":"16px"}},{default:d(()=>[M(" 点击或者拖动文件到该区域来上传 ")]),_:1})]),_:1})]),_:1},8,["file-list","max","data","action","headers","accept","disabled"])}}}),te=H("div",null,[H("h1",null,"这是一个Demo页面")],-1),ue=S({__name:"index",setup(e){const t=Y(!1),o=Y(""),s=Y(""),n=Y(0);return(a,l)=>{const m=p("n-card"),r=p("n-modal"),c=p("n-space");return A(),x(f(z),null,{default:d(()=>[te,i(r,{show:t.value,"onUpdate:show":l[0]||(l[0]=u=>t.value=u)},{default:d(()=>[i(m,{style:{width:"600px"},title:"模态框",bordered:!1,size:"huge",role:"dialog","aria-modal":"true"},{"header-extra":d(()=>[M(" 噢！ ")]),footer:d(()=>[M(" 尾部 ")]),default:d(()=>[i(ee)]),_:1})]),_:1},8,["show"]),i(c,null,{default:d(()=>[i(f(w),{onClick:l[1]||(l[1]=u=>f(P).showModel(R))},{default:d(()=>[M("打开弹窗（api调用）")]),_:1}),i(f(w),{onClick:l[2]||(l[2]=u=>t.value=!t.value)},{default:d(()=>[M("打开弹窗（组件式）")]),_:1}),M(" "+Q(f(W).format("Fri Sep 08 2023 10:20:13 GMT+0800 (中国标准时间)"))+" ",1),i(G,{modelValue:o.value,"onUpdate:modelValue":l[3]||(l[3]=u=>o.value=u)},null,8,["modelValue"]),i(I,{modelValue:o.value,"onUpdate:modelValue":l[4]||(l[4]=u=>o.value=u)},null,8,["modelValue"]),i(X,{modelValue:s.value,"onUpdate:modelValue":l[5]||(l[5]=u=>s.value=u)},null,8,["modelValue"]),i(q,{modelValue:n.value,"onUpdate:modelValue":l[6]||(l[6]=u=>n.value=u)},null,8,["modelValue"])]),_:1})]),_:1})}}});export{ue as default};
